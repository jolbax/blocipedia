<!DOCTYPE html>
<html>
  <head>
    <% include ../static/partials/head.ejs %>
  </head>

  <body>
    <% include ../static/partials/navbar.ejs %>

    <main class="container">
      <% include ../static/partials/messages.ejs %>
      <div
        class="d-flex align-items-center justify-content-between p-3 my-3 text-white-50 rounded shadow-sm"
        style="background-color: #d6d6d6;"
      >
        <div class="lh-100">
          <h2 class="mb-0 text-white lh-100"><%= wiki.title %></h2>
        </div>
      </div>
      <form action="<%= `/wikis/${wiki.id}/update` %>" method="POST">
        <div class="form-group">
          <label for="InputEmail1">Title</label>
          <input
            type="text"
            class="form-control"
            name="title"
            id="wikiTitel"
            aria-describedby="wikiHelp"
            placeholder="Title"
            value="<%= wiki.title %>"
          />
          <small id="wikiHelp" class="form-text text-muted"
            >The title cannot be empty.</small
          >
        </div>
        <div class="form-group">
          <label for="InputPassword1">Text</label>
          <textarea
            class="form-control"
            name="body"
            id="wikiBody"
            rows="5"
            placeholder="Text"><%= wiki.body %></textarea>
        </div>
        <% if(currentUser && ((currentUser.role == 1 && currentUser.id === wiki.userId) || currentUser.role == 10)) { %>
        <div class="form-group custom-control custom-switch">
          <input type="checkbox" class="custom-control-input" id="privateCheck" name="private" value="true" <%= wiki.private ? "checked":"" %>>
          <label class="custom-control-label" for="privateCheck">Private</label>
        </div>
        <br>
        <% } %>
        <button type="submit" class="btn btn-dark">Submit</button>
        <a href="<%= `/wikis/${wiki.id}` %>" class="btn btn-dark">Cancel</a>
      </form>
    </main>

    <% include ../static/partials/baseScripts.ejs %>
  </body>
</html>
